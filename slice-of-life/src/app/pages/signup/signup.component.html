<mat-card>
  <mat-card-header>
    <mat-card-title>Sign Up to Slice of Life</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="signupForm" class="form" (ngSubmit)="submit()">
      <mat-form-field appearance="outline">
        <mat-label>First Name</mat-label>
        <input matInput placeholder="Pat" formControlName="firstName" />
        <mat-error>{{ getErrorMessage("firstName") }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Last Name</mat-label>
        <input matInput placeholder="Smith" formControlName="lastName" />
        <mat-error>{{ getErrorMessage("lastName") }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Handle</mat-label>
        <input (change)="onChangeHandle()" matInput placeholder="pat_smith123" formControlName="handle" />
        <mat-error>{{ getErrorMessage("handle") }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput placeholder="pat@example.com" formControlName="email" />
        <mat-error>{{ getErrorMessage("email") }}</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input
          matInput
          (change)="confirmPassword()"
          type="password"
          placeholder=""
          formControlName="password"
        />
        <mat-error>{{ getErrorMessage("password") }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Confirm Password</mat-label>
        <input
          matInput
          (change)="confirmPassword()"
          type="password"
          placeholder=""
          formControlName="confirmPassword"
        />
        <mat-error>{{ getErrorMessage("confirmPassword") }}</mat-error>
      </mat-form-field>

      <mat-card-actions>
        <button
          [disabled]="hasErrors() || loading"
          mat-raised-button
          color="primary"
          type="submit"
        >
          Sign Up
          <icon *ngIf="loading"><mat-spinner diameter="20"></mat-spinner></icon>
        </button>
      </mat-card-actions>
    </form>

    <alert
      *ngIf="responseType && responseMessage"
      [alertType]="responseType"
      [alertMessage]="responseMessage"
    ></alert>
    <mat-card-footer>
      <span>Already have an account? <a routerLink="/login">Sign in</a>.</span>
    </mat-card-footer>
  </mat-card-content>
</mat-card>
